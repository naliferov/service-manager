<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAHElEQVQ4T2NkwA38zwAEYBxVSFJgFI4FQxZAgBXAQAEAQ0sDlnlqP2wAAAAASUVORK5CYII=">
  <style>.row {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}

.frame {
      border: 1px solid;
      width: fit-content;
      padding: 5px;
}</style><style>.row {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}

.frame {
      border: 1px solid;
      width: fit-content;
      padding: 5px;
}</style><style>.row {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}

.frame {
      border: 1px solid;
      width: fit-content;
      padding: 5px;
}</style></head>
  <body>
    

<div style="
    display: flex;
    gap: 15px;
    flex-direction: column;
" id="main-container">

    

<div contenteditable="plaintext-only" class="frame">COLUMN</div><div class="frame row" id="heyframe">

    <div contenteditable="plaintext-only" class="frame">ROW GREEINGS</div><div contenteditable="plaintext-only" class="frame">Welcome! As you can see it's one of the rows. 
There can be some texts, images and etc.</div>

</div><div class="frame row" "="">

    

<div class="frame">CSS</div><div contenteditable="plaintext-only" style="
    border: 1px solid;
    width: fit-content;
    padding: 5px;
" id="init-css">.row {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}

.frame {
      border: 1px solid;
      width: fit-content;
      padding: 5px;
}</div></div><div class="frame row">

    <button id="some-frame">some-frame</button>

<div contenteditable="plaintext-only" style="
    font-family: monospace;
" class="frame js-fn">(x) =&gt; {
  const elms = x.parentNode.children
  elms[0].addEventListener('click', (e) =&gt; {
    console.log('yy test')
  })
  elms[0].addEventListener('msg', (e) =&gt; {
    console.log('yy test')
  })
}</div></div><div class="frame row">

    

<button>test function</button><div contenteditable="plaintext-only" style="
    font-family: monospace;
" class="frame js-fn">(x) =&gt; {
  const elms = x.parentNode.children
  elms[0].addEventListener('click', (e) =&gt; {
    console.log('bang test')
  })
}</div></div><svg version="1.1" viewBox="0 0 32 32" style="
    width: 20px;
" id="save" "="">
    
      
      
      
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="Icon-Set" sketch:type="MSLayerGroup" transform="translate(-152.000000, -515.000000)" fill="#000000">
              <path d="M171,525 C171.552,525 172,524.553 172,524 L172,520 C172,519.447 171.552,519 171,519 C170.448,519 170,519.447 170,520 L170,524 C170,524.553 170.448,525 171,525 L171,525 Z M182,543 C182,544.104 181.104,545 180,545 L156,545 C154.896,545 154,544.104 154,543 L154,519 C154,517.896 154.896,517 156,517 L158,517 L158,527 C158,528.104 158.896,529 160,529 L176,529 C177.104,529 178,528.104 178,527 L178,517 L180,517 C181.104,517 182,517.896 182,519 L182,543 L182,543 Z M160,517 L176,517 L176,526 C176,526.553 175.552,527 175,527 L161,527 C160.448,527 160,526.553 160,526 L160,517 L160,517 Z M180,515 L156,515 C153.791,515 152,516.791 152,519 L152,543 C152,545.209 153.791,547 156,547 L180,547 C182.209,547 184,545.209 184,543 L184,519 C184,516.791 182.209,515 180,515 L180,515 Z" sketch:type="MSShapeGroup">
  
  </path>
          </g>
      </g>
  </svg><div contenteditable="plaintext-only" style="
    border: 1px solid;
    width: fit-content;
    font-family: monospace;
" id="init-script">//init script

document.querySelectorAll('style').forEach((el) =&gt; el.remove())

const initCss = document.getElementById('init-css')
const style = document.createElement('style')
style.textContent = initCss.textContent
document.head.append(style)

const elems = document.getElementsByClassName('js-fn')
for (let i = 0; i &lt; elems.length; i++) {
  const elem = elems[i]
  const fn = eval(elem.textContent)
  fn(elem)
}</div></div>


    <script>
      const saveBtn = document.getElementById('save')
      saveBtn.addEventListener('click', () => {
        const html = '<!DOCTYPE html>' + document.documentElement.outerHTML
        fetch('/save', { method: 'POST', body: html })
      })

      const initScript = document.getElementById('init-script')
      eval(initScript.textContent)
    </script>
</body></html>