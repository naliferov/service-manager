<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAHElEQVQ4T2NkwA38zwAEYBxVSFJgFI4FQxZAgBXAQAEAQ0sDlnlqP2wAAAAASUVORK5CYII=">
  <style>@font-face {
  font-family: 'JetBrains Mono';
  src: url('/font/JetBrainsMono-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

body {
  font-family: 'JetBrains Mono', monospace;
  font-feature-settings: 'liga' 0, 'calt' 0;
  background: #f4f1ec;
  color: #2e2e2c;
}

.row {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}

.frame {
    border: 1px solid;
    width: fit-content;
    padding: 5px;
}

.objects {
    margin-left: 15px;
}

.circle {
    width: 14px;
    height: 14px;
    border: 1px solid;
    border-radius: 14px;
}

.triangle {
    width: 18px;
    height: 16px;
    background: currentColor;
    clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
    cursor: pointer;
}

.code {
    font-size: 14px;
}

.h1, .h2, .h3, .h4, .h5, .h6 {
  margin-top: 0;
  margin-bottom: 0.5rem;
}

.h3 {
    font-size: 28px;
}

.h4 {
    font-size: 24px;
}

.h5 {
    font-size: 20px;
}

.hidden {
    display: none;
}
</style></head>
  <body style="
    font-feature-settings: 'liga' 0, 'calt' 0;
">
    

<svg version="1.1" viewBox="0 0 32 32" style="
    width: 20px;
    cursor: pointer;
    position: fixed;
    top: 30px;
" id="save" "="">
    
      
      
      
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g sketch:type="MSLayerGroup" transform="translate(-152.000000, -515.000000)" fill="#000000">
              <path d="M171,525 C171.552,525 172,524.553 172,524 L172,520 C172,519.447 171.552,519 171,519 C170.448,519 170,519.447 170,520 L170,524 C170,524.553 170.448,525 171,525 L171,525 Z M182,543 C182,544.104 181.104,545 180,545 L156,545 C154.896,545 154,544.104 154,543 L154,519 C154,517.896 154.896,517 156,517 L158,517 L158,527 C158,528.104 158.896,529 160,529 L176,529 C177.104,529 178,528.104 178,527 L178,517 L180,517 C181.104,517 182,517.896 182,519 L182,543 L182,543 Z M160,517 L176,517 L176,526 C176,526.553 175.552,527 175,527 L161,527 C160.448,527 160,526.553 160,526 L160,517 L160,517 Z M180,515 L156,515 C153.791,515 152,516.791 152,519 L152,543 C152,545.209 153.791,547 156,547 L180,547 C182.209,547 184,545.209 184,543 L184,519 C184,516.791 182.209,515 180,515 L180,515 Z" sketch:type="MSShapeGroup">
  
  </path>
          </g>
      </g>
  </svg><div style="
    display: flex;
    gap: 15px;
    flex-direction: column;
    max-width: 760px;
    x;
    margin: 30px 0 40px 30px;
    padding: 32px 36px;
    background: #fffdf8;
    border: 1px solid #d6d1c7;
">

    

<div class="frame" style="
    background: #f6fcf0;
    width: fit-content;
">

    

<div>css + fonts on this page</div>
<div class="triangle click to-id--show-hide target--next-element-sibling"></div>
<div contenteditable="plaintext-only" style="
    border: 1px solid;
    width: fit-content;
    padding: 5px;
    margin-top: 10px;
" id="init-css" class="code hidden">@font-face {
  font-family: 'JetBrains Mono';
  src: url('/font/JetBrainsMono-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

body {
  font-family: 'JetBrains Mono', monospace;
  font-feature-settings: 'liga' 0, 'calt' 0;
  background: #f4f1ec;
  color: #2e2e2c;
}

.row {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}

.frame {
    border: 1px solid;
    width: fit-content;
    padding: 5px;
}

.objects {
    margin-left: 15px;
}

.circle {
    width: 14px;
    height: 14px;
    border: 1px solid;
    border-radius: 14px;
}

.triangle {
    width: 18px;
    height: 16px;
    background: currentColor;
    clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
    cursor: pointer;
}

.code {
    font-size: 14px;
}

.h1, .h2, .h3, .h4, .h5, .h6 {
  margin-top: 0;
  margin-bottom: 0.5rem;
}

.h3 {
    font-size: 28px;
}

.h4 {
    font-size: 24px;
}

.h5 {
    font-size: 20px;
}

.hidden {
    display: none;
}
</div></div><div class="frame" style="
    background: #f6fcf0;
    width: fit-content;
">

    

<div>javascript. init script</div>
<div class="triangle click to-id--show-hide target--next-element-sibling"></div>
<div contenteditable="plaintext-only" style="
    border: 1px solid;
    width: fit-content;
    padding: 5px;
    margin-top: 10px;
" class="code hidden" id="init-script">document.querySelectorAll('style').forEach((el) =&gt; el.remove())

const initCss = document.getElementById('init-css')
const style = document.createElement('style')
style.textContent = initCss.textContent

document.head.append(style)

const x = (id, msg, ctx) =&gt; {
  const e = document.getElementById(id)
  if (e &amp;&amp; e.f) return e.f(msg)
}

const elems = document.getElementsByClassName('js-fn')
for (let i = 0; i &lt; elems.length; i++) {
  const el = elems[i]
  el.x = x

  eval(el.textContent)(el)
}

window.addEventListener('keydown', (e) =&gt; {
  if (e.key !== 'Escape') return

  const t = e.target
  if (!t.f) return

  eval(t.textContent)(t)
  t.blur()
  window.saveHtml()
})

const extractValue = kvStr =&gt; kvStr.split('--')[1] ?? ''

window.addEventListener('click', (e) =&gt; {
  const t = e.target
  const classList = t.classList
  if (!classList.contains('click')) return

  const id = x('extract-value-from-class', { 
    classList, 
    startsWith: 'to-id--' 
  })

  if (!id) return
  const el = document.getElementById(id)
  if (el.f) el.f(t)
})<br></div></div><div id="database">

<div class="h5">Mini DB</div>

<div class="object">

<span class="category">root</span><div class="objects hidden" style="
">
    <div class="object">
       
<div class="category">category</div>
       <div class="objects hidden">
<div class="object">space</div><div class="object">time</div><div class="object">energy</div>
<div class="object">bio</div><div class="object">design</div><div class="object">abstraction</div><div class="object">compression</div><div class="object">minimal</div><div class="object">connection berween words</div><div class="object">find new ideas</div><div class="object">record from radio, youtube</div><div class="object">mutation and mutable</div><div class="object">automate routine on job</div></div>
</div><div class="object">
       <div class="name">computer science</div>
       <div class="objects hidden"><div class="object">
       <div class="name">infastructure</div>
       <div class="objects"><div class="object">aws</div><div class="object">kubernetes</div></div>
</div><div class="object">
       
<div class="name">db</div>
       <div class="objects">
<div class="object">postgres
</div><div class="object">redis
</div>
</div>
</div><div class="object">grasp</div><div class="object">solid</div><div class="object">aws</div><div class="object">rabbitmq</div><div class="object">kafka</div><div class="object">node.js</div><div class="object">nest.js</div><div class="object">javascript</div><div class="object">typescript</div></div>
</div><div class="object">
       
<div class="category">movies</div>
       <div class="objects">
<div class="object">the dark knight (2008)</div><div class="object">the godfather (1972)</div><div class="object">the shawshank redemption (1994)</div>
<div class="object">12 angry men (1957)</div></div>
</div>

<div class="object">
       <div class="category">music</div>
       
<div class="objects">
<div class="object">12 stones</div>
<div class="object">2-4 grooves</div><div class="object">3 doors down</div><div class="object">30 seconds to mars</div><div class="object">36 crazyfists</div><div class="object">3rd strike</div></div></div></div></div>



</div><div class="frame row">

    

<div>database-expand-collapse</div><div contenteditable="plaintext-only" style="
" class="code frame js-fn">(x) =&gt; {
  const db = document.getElementById('database')
  db.addEventListener('click', (e) =&gt; {
    //console.log('asdsad', e.target)
  })
}</div></div><div class="frame row">

    <div>console</div>

<div class="logs-container"></div><div contenteditable="plaintext-only" style="
" class="code frame js-fn" id="console">(x) =&gt; {
  const el = x.parentNode.children[1]

  x.f = (str) =&gt; {
    el.innerHTML += `&lt;div&gt;${str}&lt;div&gt;`
  }
}<div><br><div></div></div></div></div><div class="frame row">

    <div>show-hide</div>

<div contenteditable="plaintext-only" style="
" class="code frame js-fn" id="show-hide">(x) =&gt; {
  x.f = (showHideBtn) =&gt; {
    const target = x.x('extract-value-from-class', { 
      classList: showHideBtn.classList, 
      startsWith: 'target--' 
    })

    if (target === 'next-element-sibling') {
      const targetObj = showHideBtn.nextElementSibling
      targetObj.classList.toggle('hidden')
    }
  }
}</div></div><div class="frame row">

    <div class="circle click to-id--insert"></div><div>extract-value-from-class</div>

<div contenteditable="plaintext-only" style="
" class="code frame js-fn" id="extract-value-from-class">(x) =&gt; {
  x.f = ({ classList, startsWith }) =&gt; {
    const extractValue = kvStr =&gt; {
        return kvStr.split('--')[1] ?? ''
    }

    for (const cls of classList) {
      if (cls.startsWith(startsWith)) {
        return extractValue(cls)
      }
    }
  }
}</div></div><div class="frame row">




    










<div contenteditable="plaintext-only" style="
    font-family: monospace;
" class="frame js-fn" id="test-fn">//reload function dynamic

(x) =&gt; {
  x.f = () =&gt; console.log('testF')
}</div></div><div class="frame row">

    

<button>test function</button><div contenteditable="plaintext-only" style="
    font-family: monospace;
" class="frame js-fn">(x) =&gt; {
  const elms = x.parentNode.children
  elms[0].addEventListener('click', (e) =&gt; {
    x.x('console', { a: 10, b: 20 })
  })
}</div></div></div>

    
<div class="frame row space" style="
    background: #fffdf8;
    position: relative;
    min-height: 100vh;
    min-width: 100vw;
">

    <div>Space of nodes</div><div class="frame row" style="
    left: 28px;
    position: relative;
    top: 67px;
">
<div>jsonGenerator</div><div class="in">
  <div>in</div>
  <div>
  <div class="msg">msg...</div>
<div class="msg">{ "foo": "bar" }</div></div>
</div><div contenteditable="plaintext-only" style="
    font-family: monospace;
" class="frame js-fn">(x) =&gt; {
  
}</div><div class="out">
  <div>out</div>
  <div>
  <div class="msg">{ "foo": "processed" }</div>
<div class="msg">{ "foo": "processed" }</div></div>
</div>
</div><div class="frame row" style="
    left: 28px;
    position: absolute;
    top: 219px;
">
<div class="in">
  <div>in</div>
  <div>
  <div class="msg">{ "foo": "bar" }</div>
<div class="msg">{ "foo": "bar" }</div></div>
</div><div contenteditable="plaintext-only" style="
    font-family: monospace;
" class="frame js-fn">(x) =&gt; {
  
}</div><div class="out">
  <div>out</div>
  <div>
  <div class="msg">{ "foo": "processed" }</div>
<div class="msg">{ "foo": "processed" }</div></div>
</div>
</div><script>
      window.saveHtml = () => {
        const html = '<!DOCTYPE html>' + document.documentElement.outerHTML
        fetch('/save', { method: 'POST', body: html })
      }

      const saveBtn = document.getElementById('save')
      saveBtn.addEventListener('click', saveHtml)

      const initScript = document.getElementById('init-script')
      eval(initScript.textContent)
    </script></div></body></html>